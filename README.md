# Проект "crm"
## Отображение статусов на сайдбаре

Исполнитель - на оценке, в работе
На оценке - созданные менеджерами заявки выбираются исполнителями
В работе - заявки, которые выполнят данный исполнитель

Менеджер - входящие, в работе
Входящие - созданные заявки, которые не были отданы в работу
В работе - заявки, отданные в работе

## Отображение заявки в зависимости от статуса

| Статус | Отображение исполнителя | Отображение менеджера | Описание исполнителя | Описание менеджера |
| ------ | -------------- | -------------- | ----------- | ----------- |
| Новая | На оценке | Входящие | Отображается всем | Отображается авторам |
| Есть вопросы | На оценке | Входящие | Отображается всем | Отображается авторам |
| Оцененная | На оценке | Входящие | Отображается всем | Отображается авторам |
| Отклоненная | На оценке | Входящие | Отображается всем | Отображается авторам |
| В работе | В работе | В работе | Отображается выбранному исполнителю | Отображается авторам |
| Завершена | Завершена | Завершена | Отображается выбранному исполнителю | Отображается авторам |

## Фильтрация
| Менеджер    |           |              |             |
|-------------|-----------|--------------|-------------|
| Входящие    | На оценке | Есть вопросы | Оцененные   |
| В работе    |           |              |             |

-[x] Менеджеру отображаются только его заявки
-[x] **Нужны тесты** (manager-incoming) **Входящие** отображают все заявки попадающие в 3 нижние категории
-[x] **Нужны тесты** (manager-new)" На оценке" отображаются заявки без вопросов
-[x] **Нужны тесты** (manager-questioned) "Есть вопросы" отображаются заявки с неотвеченными комментариями исполнителей
-[x] **Нужны тесты** (manager-rated) "Оцененные" отображаются заявки с хотябы 1 выставленной ценной
-[x] **Нужны тесты** (manager-in-process) **В работе** отобржаются заявки со статусом в работе

| Исполнитель |           |              |             |
|-------------|-----------|--------------|-------------|
| Входящие    | Новые     | Оцененные    | Отклоненные |
| В работе    |           |              |             |

-[x] Исполнителю исполняются все заявки менеджеров, которые не были приняты другими исполнителями
-[x] **Нужны тесты** (performer-incoming) **Входящие** отображают все заявки попадающие в 3 верхнии категории
-[x] **Нужны тесты** (performer-new) "Новые" отображаются все заявки - по умолчанию входящие
-[x] **Нужны тесты** (performer-rated) "Оцененные" отображаются заявки с положительной оценкой исполнителя
-[x] **Нужны тесты** (performer-rejected) "Отклоненные" отображают заявки с отрицательной оценкой исполнителя
-[x] **Нужны тесты** (performer-in-process) **В работе** отобржаются заявки со статусом в работе для этого исполнителя

## TODO
1. [x] Добавить ссылки на сайдбаре для разделённых ролей. Добавить тесты на фильтрацию.
2. [ ] Определить кто может общаться после завершения заявки - ТЛ получивший заявку и ПМ
3. [ ] Отображать имена пользователей в заявке в качестве ИД
5. [ ] Запрет на комментирования другим пользователям после того как проект был отдан исполнителю
